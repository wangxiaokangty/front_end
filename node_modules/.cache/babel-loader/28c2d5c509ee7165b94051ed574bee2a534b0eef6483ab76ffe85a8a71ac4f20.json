{"ast":null,"code":"import 'github-markdown-css'; // 导入Markdown样式\nimport Header from \"../components/Header\";\nexport default {\n  name: \"BlogDetail\",\n  components: {\n    Header\n  },\n  data() {\n    return {\n      blog: {\n        id: \"\",\n        title: \"\",\n        content: \"\"\n      },\n      ownBlog: false // 是否为自己的博客\n    };\n  },\n  created() {\n    // 获取路由参数中的blogId\n    const blogId = this.$route.params.blogId;\n    this.$axios.get(`/blog/${blogId}`).then(res => {\n      const blog = res.data.data;\n      this.blog = {\n        ...blog\n      };\n\n      // 使用markdown-it进行Markdown转换\n      const MarkdownIt = require(\"markdown-it\");\n      const md = new MarkdownIt();\n      this.blog.content = md.render(blog.content);\n\n      //测试\n      console.log(\"现在状态是什么userInfo\");\n      // 从对象中获取id\n      const userId = JSON.parse(sessionStorage.getItem(\"userInfo\")).id;\n      // 打印id或者根据需要进行其他操作\n      console.log(userId);\n      console.log(blog);\n      console.log(\"guanchawan\");\n\n      //判断博客是否为当前用户所拥有\n      this.ownBlog = blog.userId === userId;\n    });\n  }\n};","map":{"version":3,"names":["Header","name","components","data","blog","id","title","content","ownBlog","created","blogId","$route","params","$axios","get","then","res","MarkdownIt","require","md","render","console","log","userId","JSON","parse","sessionStorage","getItem"],"sources":["/Users/wangxiaokang/Desktop/SpringBoot/vue-project/src/views/BlogDetail.vue"],"sourcesContent":["<template>\n  <div>\n\n    <Header/>\n\n    <div class=\"mblog\">\n\n      <h2>{{ blog.title }}</h2>\n      <!-- 编辑链接，仅当ownBlog为true时显示 -->\n      <el-link icon=\"el-icon-edit\" v-if=\"ownBlog && blog.id\">\n        <!-- 路由链接到博客编辑页面 -->\n        <router-link :to=\"{ name: 'BlogEdit', params: { blogId: blog.id } }\">\n          编辑\n        </router-link>\n      </el-link>\n      <!-- 分割线 -->\n      <el-divider></el-divider>\n      <!-- 博客内容，使用v-html渲染Markdown转换后的HTML -->\n      <div class=\"markdown-body\" v-html=\"blog.content\"></div>\n    </div>\n\n  </div>\n</template>\n\n<script>\nimport 'github-markdown-css' // 导入Markdown样式\nimport Header from \"../components/Header\";\n\nexport default {\n  name: \"BlogDetail\",\n  components: {Header},\n  data() {\n    return {\n      blog: {\n        id: \"\",\n        title: \"\",\n        content: \"\"\n      },\n      ownBlog: false // 是否为自己的博客\n    }\n  },\n  created() {\n    // 获取路由参数中的blogId\n    const blogId = this.$route.params.blogId;\n    this.$axios.get(`/blog/${blogId}`).then(res => {\n      const blog = res.data.data;\n      this.blog = {...blog};\n\n      // 使用markdown-it进行Markdown转换\n      const MarkdownIt = require(\"markdown-it\");\n      const md = new MarkdownIt();\n      this.blog.content = md.render(blog.content);\n\n      //测试\n      console.log(\"现在状态是什么userInfo\")\n      // 从对象中获取id\n      const userId = JSON.parse(sessionStorage.getItem(\"userInfo\")).id;\n      // 打印id或者根据需要进行其他操作\n      console.log(userId);\n      console.log(blog);\n      console.log(\"guanchawan\")\n\n\n      //判断博客是否为当前用户所拥有\n      this.ownBlog = (blog.userId === userId);\n    });\n  }\n}\n</script>\n\n<style scoped>\n.mblog {\n  box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.1);\n  width: 100%;\n  min-height: 700px;\n  padding: 20px 15px;\n}\n</style>\n"],"mappings":"AAyBA,OAAO,qBAAoB,EAAE;AAC7B,OAAOA,MAAK,MAAO,sBAAsB;AAEzC,eAAe;EACbC,IAAI,EAAE,YAAY;EAClBC,UAAU,EAAE;IAACF;EAAM,CAAC;EACpBG,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,IAAI,EAAE;QACJC,EAAE,EAAE,EAAE;QACNC,KAAK,EAAE,EAAE;QACTC,OAAO,EAAE;MACX,CAAC;MACDC,OAAO,EAAE,KAAI,CAAE;IACjB;EACF,CAAC;EACDC,OAAOA,CAAA,EAAG;IACR;IACA,MAAMC,MAAK,GAAI,IAAI,CAACC,MAAM,CAACC,MAAM,CAACF,MAAM;IACxC,IAAI,CAACG,MAAM,CAACC,GAAG,CAAE,SAAQJ,MAAO,EAAC,CAAC,CAACK,IAAI,CAACC,GAAE,IAAK;MAC7C,MAAMZ,IAAG,GAAIY,GAAG,CAACb,IAAI,CAACA,IAAI;MAC1B,IAAI,CAACC,IAAG,GAAI;QAAC,GAAGA;MAAI,CAAC;;MAErB;MACA,MAAMa,UAAS,GAAIC,OAAO,CAAC,aAAa,CAAC;MACzC,MAAMC,EAAC,GAAI,IAAIF,UAAU,CAAC,CAAC;MAC3B,IAAI,CAACb,IAAI,CAACG,OAAM,GAAIY,EAAE,CAACC,MAAM,CAAChB,IAAI,CAACG,OAAO,CAAC;;MAE3C;MACAc,OAAO,CAACC,GAAG,CAAC,iBAAiB;MAC7B;MACA,MAAMC,MAAK,GAAIC,IAAI,CAACC,KAAK,CAACC,cAAc,CAACC,OAAO,CAAC,UAAU,CAAC,CAAC,CAACtB,EAAE;MAChE;MACAgB,OAAO,CAACC,GAAG,CAACC,MAAM,CAAC;MACnBF,OAAO,CAACC,GAAG,CAAClB,IAAI,CAAC;MACjBiB,OAAO,CAACC,GAAG,CAAC,YAAY;;MAGxB;MACA,IAAI,CAACd,OAAM,GAAKJ,IAAI,CAACmB,MAAK,KAAMA,MAAO;IACzC,CAAC,CAAC;EACJ;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}