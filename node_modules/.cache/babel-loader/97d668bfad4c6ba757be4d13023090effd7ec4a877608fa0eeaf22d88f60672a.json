{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport Header from \"../components/Header\";\nexport default {\n  name: \"BlogEdit\",\n  components: {\n    Header\n  },\n  data() {\n    return {\n      // 表单数据\n      ruleForm: {\n        id: '',\n        title: '',\n        description: '',\n        content: ''\n      },\n      // 表单验证规则\n      rules: {\n        title: [{\n          required: true,\n          message: '请输入标题',\n          trigger: 'blur'\n        }, {\n          min: 3,\n          max: 25,\n          message: '长度在 3 到 25 个字符',\n          trigger: 'blur'\n        }],\n        description: [{\n          required: true,\n          message: '请输入摘要',\n          trigger: 'blur'\n        }],\n        content: [{\n          required: true,\n          message: '请输入内容',\n          trigger: 'blur'\n        }]\n      }\n    };\n  },\n  methods: {\n    // 提交表单方法\n    submitForm(formName) {\n      this.$refs[formName].validate(valid => {\n        if (valid) {\n          // 发送POST请求提交表单数据\n          this.$axios.post('/blog/edit', this.ruleForm).then(res => {\n            this.$alert('操作成功', '提示', {\n              confirmButtonText: '确定',\n              callback: action => {\n                this.$router.push(\"/blogs\");\n              }\n            });\n          });\n        } else {\n          console.log('error submit!!');\n          return false;\n        }\n      });\n    },\n    // 重置表单方法\n    resetForm(formName) {\n      this.$refs[formName].resetFields();\n    }\n  },\n  created() {\n    // 在组件创建时根据blogId加载博客数据\n    const blogId = this.$route.params.blogId;\n    if (blogId) {\n      this.$axios.get(`/blog/${blogId}`).then(res => {\n        const blog = res.data.data;\n        this.ruleForm = {\n          ...blog\n        };\n      });\n    }\n  }\n};","map":{"version":3,"names":["Header","name","components","data","ruleForm","id","title","description","content","rules","required","message","trigger","min","max","methods","submitForm","formName","$refs","validate","valid","$axios","post","then","res","$alert","confirmButtonText","callback","action","$router","push","console","log","resetForm","resetFields","created","blogId","$route","params","get","blog"],"sources":["/Users/wangxiaokang/Desktop/SpringBoot/vue-project/src/views/BlogEdit.vue"],"sourcesContent":["<template>\n  <!-- 主容器 -->\n  <div>\n    <!-- 引入自定义的头部组件 -->\n    <Header></Header>\n\n    <!-- 内容部分 -->\n    <div class=\"m-content\">\n      <!-- 表单组件 -->\n      <el-form :model=\"ruleForm\" :rules=\"rules\" ref=\"ruleForm\" label-width=\"100px\" class=\"demo-ruleForm\">\n        <!-- 标题表单项 -->\n        <el-form-item label=\"标题\" prop=\"title\">\n          <el-input v-model=\"ruleForm.title\"></el-input>\n        </el-form-item>\n\n        <!-- 摘要表单项 -->\n        <el-form-item label=\"摘要\" prop=\"description\">\n          <el-input type=\"textarea\" v-model=\"ruleForm.description\"></el-input>\n        </el-form-item>\n\n        <!-- 内容表单项，使用mavon-editor作为Markdown编辑器 -->\n        <el-form-item label=\"内容\" prop=\"content\">\n          <mavon-editor v-model=\"ruleForm.content\"></mavon-editor>\n        </el-form-item>\n\n        <!-- 表单操作按钮 -->\n        <el-form-item>\n          <el-button type=\"primary\" @click=\"submitForm('ruleForm')\">立即创建</el-button>\n          <el-button @click=\"resetForm('ruleForm')\">重置</el-button>\n        </el-form-item>\n      </el-form>\n\n    </div>\n\n  </div>\n</template>\n\n\n\n<script>\nimport Header from \"../components/Header\";\n\nexport default {\n  name: \"BlogEdit\",\n  components: { Header },\n  data() {\n    return {\n      // 表单数据\n      ruleForm: {\n        id: '',\n        title: '',\n        description: '',\n        content: ''\n      },\n      // 表单验证规则\n      rules: {\n        title: [\n          { required: true, message: '请输入标题', trigger: 'blur' },\n          { min: 3, max: 25, message: '长度在 3 到 25 个字符', trigger: 'blur' }\n        ],\n        description: [\n          { required: true, message: '请输入摘要', trigger: 'blur' }\n        ],\n        content: [\n          { required: true, message: '请输入内容', trigger: 'blur' }\n        ]\n      }\n    };\n  },\n  methods: {\n    // 提交表单方法\n    submitForm(formName) {\n      this.$refs[formName].validate((valid) => {\n        if (valid) {\n          // 发送POST请求提交表单数据\n          this.$axios.post('/blog/edit', this.ruleForm).then(res => {\n            this.$alert('操作成功', '提示', {\n              confirmButtonText: '确定',\n              callback: action => {\n                this.$router.push(\"/blogs\");\n              }\n            });\n          });\n        } else {\n          console.log('error submit!!');\n          return false;\n        }\n      });\n    },\n    // 重置表单方法\n    resetForm(formName) {\n      this.$refs[formName].resetFields();\n    }\n  },\n  created() {\n    // 在组件创建时根据blogId加载博客数据\n    const blogId = this.$route.params.blogId;\n    if (blogId) {\n      this.$axios.get(`/blog/${blogId}`).then(res => {\n        const blog = res.data.data;\n        this.ruleForm = { ...blog };\n      });\n    }\n  }\n}\n</script>\n\n<style scoped>\n.m-content {\n  max-width: 960px;\n  margin: 0 auto;\n  text-align: center;\n}\n\n</style>\n"],"mappings":";AAwCA,OAAOA,MAAK,MAAO,sBAAsB;AAEzC,eAAe;EACbC,IAAI,EAAE,UAAU;EAChBC,UAAU,EAAE;IAAEF;EAAO,CAAC;EACtBG,IAAIA,CAAA,EAAG;IACL,OAAO;MACL;MACAC,QAAQ,EAAE;QACRC,EAAE,EAAE,EAAE;QACNC,KAAK,EAAE,EAAE;QACTC,WAAW,EAAE,EAAE;QACfC,OAAO,EAAE;MACX,CAAC;MACD;MACAC,KAAK,EAAE;QACLH,KAAK,EAAE,CACL;UAAEI,QAAQ,EAAE,IAAI;UAAEC,OAAO,EAAE,OAAO;UAAEC,OAAO,EAAE;QAAO,CAAC,EACrD;UAAEC,GAAG,EAAE,CAAC;UAAEC,GAAG,EAAE,EAAE;UAAEH,OAAO,EAAE,gBAAgB;UAAEC,OAAO,EAAE;QAAO,EAC/D;QACDL,WAAW,EAAE,CACX;UAAEG,QAAQ,EAAE,IAAI;UAAEC,OAAO,EAAE,OAAO;UAAEC,OAAO,EAAE;QAAO,EACrD;QACDJ,OAAO,EAAE,CACP;UAAEE,QAAQ,EAAE,IAAI;UAAEC,OAAO,EAAE,OAAO;UAAEC,OAAO,EAAE;QAAO;MAExD;IACF,CAAC;EACH,CAAC;EACDG,OAAO,EAAE;IACP;IACAC,UAAUA,CAACC,QAAQ,EAAE;MACnB,IAAI,CAACC,KAAK,CAACD,QAAQ,CAAC,CAACE,QAAQ,CAAEC,KAAK,IAAK;QACvC,IAAIA,KAAK,EAAE;UACT;UACA,IAAI,CAACC,MAAM,CAACC,IAAI,CAAC,YAAY,EAAE,IAAI,CAAClB,QAAQ,CAAC,CAACmB,IAAI,CAACC,GAAE,IAAK;YACxD,IAAI,CAACC,MAAM,CAAC,MAAM,EAAE,IAAI,EAAE;cACxBC,iBAAiB,EAAE,IAAI;cACvBC,QAAQ,EAAEC,MAAK,IAAK;gBAClB,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC,QAAQ,CAAC;cAC7B;YACF,CAAC,CAAC;UACJ,CAAC,CAAC;QACJ,OAAO;UACLC,OAAO,CAACC,GAAG,CAAC,gBAAgB,CAAC;UAC7B,OAAO,KAAK;QACd;MACF,CAAC,CAAC;IACJ,CAAC;IACD;IACAC,SAASA,CAAChB,QAAQ,EAAE;MAClB,IAAI,CAACC,KAAK,CAACD,QAAQ,CAAC,CAACiB,WAAW,CAAC,CAAC;IACpC;EACF,CAAC;EACDC,OAAOA,CAAA,EAAG;IACR;IACA,MAAMC,MAAK,GAAI,IAAI,CAACC,MAAM,CAACC,MAAM,CAACF,MAAM;IACxC,IAAIA,MAAM,EAAE;MACV,IAAI,CAACf,MAAM,CAACkB,GAAG,CAAE,SAAQH,MAAO,EAAC,CAAC,CAACb,IAAI,CAACC,GAAE,IAAK;QAC7C,MAAMgB,IAAG,GAAIhB,GAAG,CAACrB,IAAI,CAACA,IAAI;QAC1B,IAAI,CAACC,QAAO,GAAI;UAAE,GAAGoC;QAAK,CAAC;MAC7B,CAAC,CAAC;IACJ;EACF;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}